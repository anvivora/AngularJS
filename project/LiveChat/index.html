<!DOCTYPE html>
<html>
<head>
    <title>Firebase App</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.2/angular.min.js"></script><!-- AngularJS -->
    <script src="https://cdn.firebase.com/js/client/2.0.4/firebase.js"></script><!-- Firebase -->
    <script src="https://cdn.firebase.com/libs/angularfire/0.9.0/angularfire.min.js"></script><!-- AngularFire -->
    <script src="livechat.js" type="text/javascript"></script>
</head>
<body ng-app="app">
 <h1>Firebase chatbox</h1>
 
    <div ng-controller="chatCtrl">
        <div id="chatBox" style="padding: 10px; border: black 1px solid">
            <h1>Chat box</h1>
 
            <!-- Đồng bộ từ array chatMessage sang HTML.
            Hàm limit To để lấy 15 messages cuối cùng -->
            <div ng-repeat="chatMessage in chatMessages| limitTo:-15">
                <span style="font-weight: bold">{{chatMessage.name}}</span> :
                <span>{{chatMessage.message}}</span>
            </div>
        </div>
 
        <form> <pre> Name: {{name}}</pre>
        <!-- Khi người dùng bấm enter, ta gọi hàm sendChat trong controller,
            thực hiện đồng bộ, hiển thị tin nhắn trên máy những người dùng khác -->
         Chat: <input type="text" ng-model="chatMes" />
               <button type="submit" ng-click="sendChat()">Send</button>
         </form>
 	</div>
</body>
</html>